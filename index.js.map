{"version":3,"file":"index.js","sources":["../src/pixabay-api.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '54460001-4340b48267dd4c07393208eaa';\n\nexport async function fetchImages(query, page = 1) {\n  const response = await axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page,\n      per_page: 40,\n    },\n  });\n\n  return response.data;\n}\n","import { fetchImages } from './pixabay-api.js';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst loadingText = document.querySelector('.loading-text');\n\nlet page = 1;\nlet query = '';\n\nform.addEventListener('submit', onSearch);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nasync function onSearch(e) {\n  e.preventDefault();\n\n  query = e.target.elements[0].value.trim();\n  page = 1;\n  gallery.innerHTML = '';\n  loadMoreBtn.classList.add('is-hidden');\n\n  if (!query) return;\n\n  loadingText.classList.remove('is-hidden');\n\n  const data = await fetchImages(query, page);\n\n  loadingText.classList.add('is-hidden');\n\n  renderImages(data.hits);\n\n  if (data.totalHits > 40) {\n    loadMoreBtn.classList.remove('is-hidden');\n  }\n}\n\nasync function onLoadMore() {\n  page += 1;\n  const data = await fetchImages(query, page);\n  renderImages(data.hits);\n}\n\nfunction renderImages(images) {\n  const markup = images\n    .map(\n      img => `\n      <div class=\"photo-card\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p>Likes ${img.likes}</p>\n          <p>Views ${img.views}</p>\n          <p>Comments ${img.comments}</p>\n          <p>Downloads ${img.downloads}</p>\n        </div>\n      </div>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["BASE_URL","API_KEY","fetchImages","query","page","axios","form","gallery","loadMoreBtn","loadingText","onSearch","onLoadMore","e","data","renderImages","images","markup","img"],"mappings":"0xBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CAajD,OAZiB,MAAMC,EAAM,IAAIL,EAAU,CACzC,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,EACX,CACL,CAAG,GAEe,IAClB,CCjBA,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,cAAc,YAAY,EACjDC,EAAc,SAAS,cAAc,eAAe,EAE1D,IAAIL,EAAO,EACPD,EAAQ,GAEZG,EAAK,iBAAiB,SAAUI,CAAQ,EACxCF,EAAY,iBAAiB,QAASG,CAAU,EAEhD,eAAeD,EAASE,EAAG,CAQzB,GAPAA,EAAE,eAAc,EAEhBT,EAAQS,EAAE,OAAO,SAAS,CAAC,EAAE,MAAM,OACnCR,EAAO,EACPG,EAAQ,UAAY,GACpBC,EAAY,UAAU,IAAI,WAAW,EAEjC,CAACL,EAAO,OAEZM,EAAY,UAAU,OAAO,WAAW,EAExC,MAAMI,EAAO,MAAMX,EAAYC,EAAOC,CAAI,EAE1CK,EAAY,UAAU,IAAI,WAAW,EAErCK,EAAaD,EAAK,IAAI,EAElBA,EAAK,UAAY,IACnBL,EAAY,UAAU,OAAO,WAAW,CAE5C,CAEA,eAAeG,GAAa,CAC1BP,GAAQ,EACR,MAAMS,EAAO,MAAMX,EAAYC,EAAOC,CAAI,EAC1CU,EAAaD,EAAK,IAAI,CACxB,CAEA,SAASC,EAAaC,EAAQ,CAC5B,MAAMC,EAASD,EACZ,IACCE,GAAO;AAAA;AAAA,oBAEOA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,qBAEjCA,EAAI,KAAK;AAAA,qBACTA,EAAI,KAAK;AAAA,wBACNA,EAAI,QAAQ;AAAA,yBACXA,EAAI,SAAS;AAAA;AAAA,aAGjC,EACA,KAAK,EAAE,EAEVV,EAAQ,mBAAmB,YAAaS,CAAM,CAChD"}